/*!
*  filename: ej2-react-base.min.js
*  version : 20.4.42
*  Copyright Syncfusion Inc. 2001 - 2020. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.reactbase=function(t,e,r,i){"use strict";function s(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(r){"isMounted"!==r&&"replaceState"!==r&&(t.prototype[""+r]=e.prototype[""+r])})})}function n(t,s){return"string"==typeof t?m(t,s):function(s,n,o,a){var p=t,l=s;"object"==typeof p&&(p=t.template,l=i.extend({},s,t.data||{}));var h;h=a||document.createElement("div");var c=e.createElement(p,l),d=r.createPortal(c,h);if(d.propName=o,n.portals?n.portals.push(d):n.portals=[d],!a)return[h]}}var o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),a=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],p=["accordion","tab","splitter"],l=new RegExp("]"),h=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.mountingState=!1,e.attrKeys=[],e.cachedTimeOut=0,e.isAppendCalled=!1,e.initRenderCalled=!1,e.isReactForeceUpdate=!1,e.isReact=!0,e.isshouldComponentUpdateCalled=!1,e.isCreated=!1,e}return o(s,t),s.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==p.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},s.prototype.componentDidUpdate=function(t){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||(this.isshouldComponentUpdateCalled=!0,t!==this.props&&this.refreshProperties(this.props,!0))},s.prototype.renderReactComponent=function(){var t=this.reactElement;t&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(t))},s.prototype.shouldComponentUpdate=function(t){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(t),!0):(this.updateProperties(t,!0),!0)},s.prototype.updateProperties=function(t,e){for(var r=this,s=i.extend({},t),n=Object.keys(t),o=["valueTemplate","itemTemplate","headerTemplate","content"],a=i.isNullOrUndefined(this.props.statelessTemplates)?o:this.props.statelessTemplates,p=0,l=n;p<l.length;p++){var h=l[p],c="className"===h;if("children"!==h)if(c||i.isNullOrUndefined(this.htmlattributes[""+h])||this.htmlattributes[""+h]===s[""+h]||(this.htmlattributes[""+h]=s[""+h]),this.compareValues(this.props[""+h],t[""+h]))delete s[""+h];else if(-1!==this.attrKeys.indexOf(h))if(c){this.clsName=!0;for(var d=this.props[""+h].split(" "),u=0;u<d.length;u++)this.element.classList.remove(d[parseInt(u.toString(),10)]);for(var f=s[""+h].split(" "),m=0;m<f.length;m++)this.element.classList.add(f[parseInt(m.toString(),10)])}else"disabled"!==h&&delete s[""+h];else"value"===h&&t[""+h]===this[""+h]?delete s[""+h]:a.indexOf(h)>-1&&("content"===h&&"function"==typeof s[""+h]||t[""+h].toString()===this[""+h].toString())&&delete s[""+h]}s.children&&delete s.children,this.initRenderCalled&&(this.canDelayUpdate||this.props.delayUpdate)?setTimeout(function(){r.refreshProperties(s,t,e)}):this.refreshProperties(s,t,e)},s.prototype.refreshProperties=function(t,e,r){var s=i.isNullOrUndefined(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(t).length&&(r||this.processComplexTemplate(t,this),this.setProperties(t,r)),-1===s.indexOf("directiveTemplates")&&this.refreshChild(r,e)},s.prototype.processComplexTemplate=function(t,e){var r=e.complexTemplate;if(r)for(var s in r){var n=r[""+s];t[""+s]&&i.setValue(n,i.getValue(s,t),t)}},s.prototype.getDefaultAttributes=function(){var t=this;this.isReact=!0;var e=Object.keys(this.props);this.htmlattributes||(this.htmlattributes={}),this.attrKeys=a.concat(this.controlAttributes||[]);for(var r=0,i=e;r<i.length;r++){var n=i[r];-1===n.indexOf("data-")&&-1===n.indexOf("aria-")&&-1===this.attrKeys.indexOf(n)||this.htmlattributes[""+n]!==this.props[""+n]&&(this.htmlattributes[""+n]=this.props[""+n])}if(this.htmlattributes.ref||(this.htmlattributes.ref=function(e){t.reactElement=e},-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+s.reactUid,s.reactUid++)),this.clsName){for(var o=this.element.classList,p=this.htmlattributes.className,l=0;l<o.length;l++)-1===p.indexOf(o[parseInt(l.toString(),10)])&&(this.htmlattributes.className=this.htmlattributes.className+" "+o[parseInt(l.toString(),10)]);this.clsName=!1}return this.htmlattributes},s.prototype.trigger=function(t,e,r){var s=this;if(!0!==this.isDestroyed&&this.modelObserver){if(l.test(t)){var n=i.getValue(t,this);n?(n.call(this,e),r&&r.call(this,e)):r&&r.call(this,e)}"change"!==t&&"input"!==t||this.props.onChange&&e.event&&this.props.onChange.call(void 0,{syntheticEvent:e.event,nativeEvent:{text:e.value},value:e.value,target:this});var o=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===t?setTimeout(function(){s.isCreated=!0,s.isDestroyed||s.modelObserver.notify(t,e,r)},10):this.modelObserver.notify(t,e,r),this.isProtectedOnChange=o}},s.prototype.compareValues=function(t,e){if(typeof t===typeof e){if(t===e)return!0;if((!i.isNullOrUndefined(t)&&t.constructor)!==(!i.isNullOrUndefined(e)&&e.constructor))return!1;if(t instanceof Date||t instanceof RegExp||t instanceof String||t instanceof Number)return t.toString()===e.toString();if(i.isObject(t)||Array.isArray(t)){var r=t,s=e;return i.isObject(r)&&(r=[t],s=[e]),this.compareObjects(r,s).status}}return!1},s.prototype.compareObjects=function(t,e,r){var i=!0,s=[];if(t.length===e.length)for(var n=0,o=e.length;n<o;n++){var a={},p=t[parseInt(n.toString(),10)],l=e[parseInt(n.toString(),10)],h=Object.keys(l);if(0!==h.length)for(var c=0,d=h;c<d.length;c++){var u=d[c],f=p[""+u],m=l[""+u];if("items"===u)for(var y=0;y<m.length;y++)if("richtexteditor"===this.getModuleName()&&"object"==typeof m[parseInt(y.toString(),10)])return{status:!0};if("grid"===this.getModuleName()&&"field"===u&&(a[""+u]=m),!p.hasOwnProperty(u)||!this.compareValues(f,m)){if(!r)return{status:!1};i=!1,a[""+u]=m}}else if(e[parseInt(n.toString(),10)]===t[parseInt(n.toString(),10)])i=!0;else{if(!r)return{status:!1};i=!1}Object.keys(a).length&&s.push({index:n,value:a,key:r})}else i=!1;return{status:i,changedProperties:s}},s.prototype.refreshChild=function(t,e){if(this.checkInjectedModules){for(var r=this.getInjectedModules()||[],s=0,n=this.getInjectedServices()||[];s<n.length;s++){var o=n[s];-1===r.indexOf(o)&&r.push(o)}this.injectedModules=r}if(this.directivekeys){var a=[],p=this.validateChildren({},this.directivekeys,e||this.props);if(p&&Object.keys(p).length){if(!t&&this.skipRefresh)for(var l=0,h=this.skipRefresh;l<h.length;l++)delete p[""+h[l]];if(this.prevProperties)for(var c=Object.keys(this.prevProperties),d=0;d<c.length;d++){var u=c[parseInt(d.toString(),10)];if(p.hasOwnProperty(u)){var f=this.compareObjects(this.prevProperties[""+u],p[""+u],u);if(f.status)delete p[""+u];else{f.changedProperties.length&&(a=a.concat(f.changedProperties));var m={};m[""+u]=p[""+u],this.prevProperties=i.extend(this.prevProperties,m)}}}else this.prevProperties=i.extend({},p,{},!0);if(a.length)if("grid"===this.getModuleName()&&"columns"===u)for(var y=0,v=this.columns;y<v.length;y++)if(i.getValue("field",v[parseInt(y.toString(),10)])===i.getValue(y+".value.field",a)){var g=i.getValue(a[parseInt(y.toString(),10)].key+"."+a[parseInt(y.toString(),10)].index,this);g&&g.setProperties?g.setProperties(a[parseInt(y.toString(),10)].value):i.extend(g,a[parseInt(y.toString(),10)].value)}else this.setProperties(p,t);else for(var b=0,O=a;b<O.length;b++){var C=O[b],x=i.getValue(C.key+"."+C.index,this);x&&x.setProperties?x.setProperties(C.value):i.extend(x,C.value)}else this.setProperties(p,t)}}},s.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);var t=["dropdowntree","checkbox"];this.initRenderCalled&&this.isAppendCalled&&this.element&&(t.indexOf(this.getModuleName())||document.body.contains(this.element))&&!this.isDestroyed&&this.isCreated&&this.destroy()},s.prototype.appendReactElement=function(t,e){var i=r.createPortal(t,e);this.portals?this.portals.push(i):this.portals=[i]},s.prototype.renderReactTemplates=function(t){this.isReactForeceUpdate=!0,t?this.forceUpdate(t):this.forceUpdate(),this.isReactForeceUpdate=!1},s.prototype.clearTemplate=function(t,e,r){var i=this,s=[];t&&t.length?Array.prototype.forEach.call(t,function(t){var r=0,n=0;if(i.portals.forEach(function(e){e.propName===t&&(s.push(n),n++)}),e&&i.portals[s[(""+e)[parseInt(r.toString(),10)]]].propName===t)i.portals.splice(e,1),r++;else for(var o=0;o<i.portals.length;o++)i.portals[parseInt(o.toString(),10)].propName===t&&(i.portals.splice(o,1),o--)}):this.portals=[],this.renderReactTemplates(r)},s.prototype.validateChildren=function(t,r,i){for(var s=!1,n=0,o=e.Children.toArray(i.children);n<o.length;n++){var a=o[n],p=this.getChildType(a),l=r[""+p];if(p&&r){var h=this.getChildProps(e.Children.toArray(a.props.children),l);h.length&&(s=!0,t[a.type.propertyName||p]=h)}}return s?t:null},s.prototype.getChildType=function(t){return t.type&&t.type.isDirective?t.type.moduleName||"":""},s.prototype.getChildProps=function(t,e){for(var r=[],s=0,n=t;s<n.length;s++){var o=n[s],a=!1,p=void 0;"string"==typeof e?(a=!0,p=e):p=Object.keys(e)[0];var l=o.props;if(this.getChildType(o)===p)if(a||!l.children){var h=i.extend({},l,{},!0);this.processComplexTemplate(h,o.type),r.push(h)}else{var c=this.validateChildren(i.extend({},l),e[""+p],l)||l;c.children&&delete c.children,this.processComplexTemplate(c,o.type),r.push(c)}}return r},s.prototype.getInjectedServices=function(){for(var t=0,r=e.Children.toArray(this.props.children);t<r.length;t++){var i=r[t];if(i.type.isService)return i.props.services}return[]},s.reactUid=1,s}(e.Component),c=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){return null},e.isDirective=!0,e}(e.PureComponent),u=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){return null},e.isService=!0,e}(e.PureComponent),m=i.getTemplateEngine();return i.setTemplateEngine({compile:n}),t.ComponentBase=h,t.applyMixins=s,t.ComplexBase=d,t.Inject=f,t.compile=n,t}({},React,ReactDOM,ej.base),this.ejs=ej;
//# sourceMappingURL=ej2-react-base.min.js.map
